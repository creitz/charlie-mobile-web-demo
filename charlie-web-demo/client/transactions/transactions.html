
<template name="transactions">
    {{#with selectedTransaction}}
      {{> transactionDetails}}
    {{else}}
      <h1 class="transactions-header">Transactions</h1>
      <div class="form-group has-feedback transaction-input">
          <span class="glyphicon glyphicon-search form-control-feedback"></span>
          <input type="text"
                class="form-control"
                id="transaction-search"
                placeholder="Search"
                value="{{searchText}}"/>
      </div>

      <div class="transactions">
        {{#if data}}
          <table>
            {{#each data.transactionDates}}
              <tr class="transaction-date border">
                <td colspan="3">{{formatDate this}}
                  <label>{{formatMoney (sumForDate this)}}</label>
                </td>
              </tr>
              {{#each transactionsForDate this}}
                {{> transaction}}
              {{/each}}
            {{else}}
              {{> noresults}}
            {{/each}}
          </table>
          {{#if loading}}
            {{> loadingIndicator}}
          {{else}}
            {{#if canLoadMore}}
              <div class="text-center">
                <button id="loadMore" class="btn btn-secondary">Load More</button>
              </div>
            {{/if}}
          {{/if}}
        {{else}}
          {{> loadingIndicator}}
        {{/if}}
      </div>
    {{/with}}
</template>

<template name="loadingIndicator">
  <div class="text-center">
    Loading...
  </div>
</template>

<template name="noresults">
  <h1 class="no-results">
    No Results
  </h1>
</template>